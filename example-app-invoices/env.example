# Saleor App Configuration
# ========================

# Required: Secret key for encrypting metadata (generate a random 32+ character string)
# Used by EncryptedMetadataManager for securing app configuration data
SECRET_KEY=your-secret-key-here-minimum-32-characters

# APL (Auth Persistence Layer) Configuration
# ==========================================

# APL Type: Choose one of "file", "upstash", or "rest"
# - "file": Single tenant, local development (default)
# - "upstash": Multi-tenant, production ready
# - "rest": Saleor Cloud APL
APL=file

# For APL type "rest" (Saleor Cloud):
# REST_APL_ENDPOINT=https://your-saleor-cloud-instance.saleor.cloud/graphql/
# REST_APL_TOKEN=your-saleor-cloud-token

# For APL type "upstash":
# UPSTASH_REDIS_REST_URL=your-upstash-redis-url
# UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-token

# App URLs and Base Configuration
# ===============================

# Base URL for your app (used for manifest and webhooks)
# In development, this is typically http://localhost:3000
# In production, this should be your deployed app URL
APP_BASE_URL=http://localhost:3000

# Optional: Override iframe base URL (for embedded app interface)
# If not set, uses APP_BASE_URL
APP_IFRAME_BASE_URL=http://localhost:3000

# Optional: Override API base URL (for webhooks and API endpoints)
# If not set, uses APP_BASE_URL
APP_API_BASE_URL=http://localhost:3000

# Domain Security
# ===============

# Optional: Regex pattern to restrict which Saleor instances can install this app
# Example: ".*\\.saleor\\.cloud$" to only allow Saleor Cloud instances
# If not set, all domains are allowed
ALLOWED_DOMAIN_PATTERN=

# Server Configuration
# ====================

# Port for the development server (default: 3000)
PORT=3000

# Vercel deployment URL (automatically set by Vercel)
# VERCEL_URL=https://your-app.vercel.app

# Logging Configuration
# ====================

# Log level: debug, info, warn, error (default: info)
APP_LOG_LEVEL=info

# OpenTelemetry Configuration (optional)
# =====================================

# Enable OpenTelemetry logging (true/false)
OTEL_ENABLED=false

# Service name for OpenTelemetry
OTEL_SERVICE_NAME=saleor-invoice-app

# CI/CD Environment
# =================

# Set to "true" when running in CI/CD environment
CI=false

# File Storage Configuration
# ==========================

# Directory for temporary PDF storage (default: auto-generated temp directory)
# Ensure this directory is writable by the application
TEMP_PDF_STORAGE_DIR=

# Saleor Cloud Migration Scripts (optional)
# =========================================

# Required for running migration scripts with Saleor Cloud APL
# SALEOR_CLOUD_TOKEN=your-saleor-cloud-token
# SALEOR_CLOUD_RESOURCE_URL=https://your-saleor-cloud-instance.saleor.cloud/graphql/

# Development Notes:
# ==================
# 
# 1. For local development, you only need:
#    - SECRET_KEY (required)
#    - APP_BASE_URL (optional, defaults to http://localhost:3000)
#    - APL=file (default)
#
# 2. For production deployment:
#    - Set APL to "upstash" or "rest"
#    - Configure the corresponding APL environment variables
#    - Set APP_BASE_URL to your production URL
#    - Ensure SECRET_KEY is a strong, random string
#
# 3. For Saleor Cloud deployment:
#    - Set APL=rest
#    - Configure REST_APL_ENDPOINT and REST_APL_TOKEN
#    - Set SALEOR_CLOUD_TOKEN and SALEOR_CLOUD_RESOURCE_URL for migrations
#
# 4. Security considerations:
#    - Never commit SECRET_KEY to version control
#    - Use strong, random values for all tokens
#    - Restrict ALLOWED_DOMAIN_PATTERN in production
